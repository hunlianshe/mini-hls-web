"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const vipService_1 = require("./config/vipService");
const utils_1 = require("./config/utils");
const api_service_1 = require("../../../service/api.service");
Page({
    data: {
        BJ: vipService_1.BAIJIN,
        HT: vipService_1.HUANGTONG,
        rightList: vipService_1.RIGHTLIST,
        swiper: {
            indicatorDots: true,
            vertical: false,
            autoplay: false,
            interval: 2000,
            duration: 500,
        },
        currentRight: 0,
        currentPrice: 0,
    },
    onLoad: function () {
        api_service_1.getVipInfo().then((res) => {
            const priceList = utils_1.dealWithVipPriceInfo(res.data);
            const vipRightInfo = utils_1.dealWithVipRightList(res.data);
            console.log(priceList);
            this.setData({
                BJ: priceList.BAIJIN,
                HT: priceList.HUANGTONG,
                rightList: vipRightInfo,
            });
            console.log(`=====vipRightInfo=====`, vipRightInfo);
        });
    },
    getVipInfo() { },
    goRecharge() {
        wx.navigateTo({
            url: `../../../packageMyhome/pages/choosePay/choosePay?price=${this.data.currentPrice}`,
        });
    },
    swiperChange(e) {
        console.log(e.detail.current);
        this.setData({
            currentRight: e.detail.current,
        });
    },
    selectPrice(e) {
        console.log(e.currentTarget.dataset);
        const { BJ, HT } = this.data;
        let currentPrice = 0;
        const { selectIndex, currentRight } = e.currentTarget.dataset;
        const priceList = currentRight === 0 ? HT.priceList : BJ.priceList;
        priceList.forEach((item, index) => {
            if (index === selectIndex) {
                item.select = true;
            }
            else {
                item.select = false;
            }
        });
        if (currentRight === 0) {
            HT.priceList = priceList;
            currentPrice = HT.priceList[selectIndex].value;
        }
        else {
            currentPrice = BJ.priceList[selectIndex].value;
            BJ.priceList = priceList;
        }
        this.setData({
            BJ,
            HT,
            currentPrice,
        });
        console.log(this.data.HT.priceList);
        console.log(this.data.BJ.priceList);
    },
    onReady: function () { },
    onShow: function () { },
    onHide: function () { },
    onUnload: function () { },
    onPullDownRefresh: function () { },
    onReachBottom: function () { },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlwQ2VudGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsidmlwQ2VudGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsb0RBQW1FO0FBQ25FLDBDQUE0RTtBQUM1RSw4REFBMEQ7QUFFMUQsSUFBSSxDQUFDO0lBQ0gsSUFBSSxFQUFFO1FBQ0osRUFBRSxFQUFFLG1CQUFNO1FBQ1YsRUFBRSxFQUFFLHNCQUFTO1FBQ2IsU0FBUyxFQUFFLHNCQUFTO1FBQ3BCLE1BQU0sRUFBRTtZQUNOLGFBQWEsRUFBRSxJQUFJO1lBQ25CLFFBQVEsRUFBRSxLQUFLO1lBQ2YsUUFBUSxFQUFFLEtBQUs7WUFDZixRQUFRLEVBQUUsSUFBSTtZQUNkLFFBQVEsRUFBRSxHQUFHO1NBQ2Q7UUFDRCxZQUFZLEVBQUUsQ0FBQztRQUNmLFlBQVksRUFBRSxDQUFDO0tBQ2hCO0lBQ0QsTUFBTSxFQUFFO1FBRU4sd0JBQVUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQVEsRUFBRSxFQUFFO1lBQzdCLE1BQU0sU0FBUyxHQUFHLDRCQUFvQixDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNqRCxNQUFNLFlBQVksR0FBRyw0QkFBb0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDcEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN2QixJQUFJLENBQUMsT0FBUSxDQUFDO2dCQUNaLEVBQUUsRUFBRSxTQUFTLENBQUMsTUFBTTtnQkFDcEIsRUFBRSxFQUFFLFNBQVMsQ0FBQyxTQUFTO2dCQUN2QixTQUFTLEVBQUUsWUFBWTthQUN4QixDQUFDLENBQUM7WUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLHdCQUF3QixFQUFFLFlBQVksQ0FBQyxDQUFDO1FBQ3RELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVELFVBQVUsS0FBUyxDQUFDO0lBR3BCLFVBQVU7UUFDUixFQUFFLENBQUMsVUFBVSxDQUFDO1lBQ1osR0FBRyxFQUFFLDBEQUEwRCxJQUFJLENBQUMsSUFBSSxDQUFDLFlBQVksRUFBRTtTQUN4RixDQUFDLENBQUM7SUFDTCxDQUFDO0lBRUQsWUFBWSxDQUFDLENBQU07UUFDakIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQyxPQUFRLENBQUM7WUFDWixZQUFZLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxPQUFPO1NBQy9CLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxXQUFXLENBQUMsQ0FBTTtRQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDckMsTUFBTSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQzdCLElBQUksWUFBWSxHQUFHLENBQUMsQ0FBQztRQUNyQixNQUFNLEVBQUUsV0FBVyxFQUFFLFlBQVksRUFBRSxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDO1FBQzlELE1BQU0sU0FBUyxHQUFHLFlBQVksS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDbkUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUNoQyxJQUFJLEtBQUssS0FBSyxXQUFXLEVBQUU7Z0JBQ3pCLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO2FBQ3BCO2lCQUFNO2dCQUNMLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO2FBQ3JCO1FBQ0gsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLFlBQVksS0FBSyxDQUFDLEVBQUU7WUFDdEIsRUFBRSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7WUFDekIsWUFBWSxHQUFHLEVBQUUsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFDO1NBQ2hEO2FBQU07WUFDTCxZQUFZLEdBQUcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUM7WUFDL0MsRUFBRSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7U0FDMUI7UUFDRCxJQUFJLENBQUMsT0FBUSxDQUFDO1lBQ1osRUFBRTtZQUNGLEVBQUU7WUFDRixZQUFZO1NBQ2IsQ0FBQyxDQUFDO1FBRUgsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNwQyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7SUFFRCxPQUFPLEVBQUUsY0FBYSxDQUFDO0lBRXZCLE1BQU0sRUFBRSxjQUFhLENBQUM7SUFFdEIsTUFBTSxFQUFFLGNBQWEsQ0FBQztJQUV0QixRQUFRLEVBQUUsY0FBYSxDQUFDO0lBRXhCLGlCQUFpQixFQUFFLGNBQWEsQ0FBQztJQUVqQyxhQUFhLEVBQUUsY0FBYSxDQUFDO0NBQzlCLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJBSUpJTiwgSFVBTkdUT05HLCBSSUdIVExJU1QgfSBmcm9tIFwiLi9jb25maWcvdmlwU2VydmljZVwiO1xuaW1wb3J0IHsgZGVhbFdpdGhWaXBQcmljZUluZm8sIGRlYWxXaXRoVmlwUmlnaHRMaXN0IH0gZnJvbSBcIi4vY29uZmlnL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRWaXBJbmZvIH0gZnJvbSBcIi4uLy4uLy4uL3NlcnZpY2UvYXBpLnNlcnZpY2VcIjtcblxuUGFnZSh7XG4gIGRhdGE6IHtcbiAgICBCSjogQkFJSklOLFxuICAgIEhUOiBIVUFOR1RPTkcsXG4gICAgcmlnaHRMaXN0OiBSSUdIVExJU1QsXG4gICAgc3dpcGVyOiB7XG4gICAgICBpbmRpY2F0b3JEb3RzOiB0cnVlLFxuICAgICAgdmVydGljYWw6IGZhbHNlLFxuICAgICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgICAgaW50ZXJ2YWw6IDIwMDAsXG4gICAgICBkdXJhdGlvbjogNTAwLFxuICAgIH0sXG4gICAgY3VycmVudFJpZ2h0OiAwLCAvLyAwLWh1YW5ndG9uZyAxLWJhaWppblxuICAgIGN1cnJlbnRQcmljZTogMCwgLy8gMC1odWFuZ3RvbmcgMS1iYWlqaW5cbiAgfSxcbiAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XG4gICAgLy8g6I635Y+Wdmlw5p2D55uKXG4gICAgZ2V0VmlwSW5mbygpLnRoZW4oKHJlczogYW55KSA9PiB7XG4gICAgICBjb25zdCBwcmljZUxpc3QgPSBkZWFsV2l0aFZpcFByaWNlSW5mbyhyZXMuZGF0YSk7XG4gICAgICBjb25zdCB2aXBSaWdodEluZm8gPSBkZWFsV2l0aFZpcFJpZ2h0TGlzdChyZXMuZGF0YSk7XG4gICAgICBjb25zb2xlLmxvZyhwcmljZUxpc3QpO1xuICAgICAgdGhpcy5zZXREYXRhISh7XG4gICAgICAgIEJKOiBwcmljZUxpc3QuQkFJSklOLFxuICAgICAgICBIVDogcHJpY2VMaXN0LkhVQU5HVE9ORyxcbiAgICAgICAgcmlnaHRMaXN0OiB2aXBSaWdodEluZm8sXG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKGA9PT09PXZpcFJpZ2h0SW5mbz09PT09YCwgdmlwUmlnaHRJbmZvKTtcbiAgICB9KTtcbiAgfSxcblxuICBnZXRWaXBJbmZvKCk6IGFueSB7fSxcblxuICAvKiog5YWF5YC8ICovXG4gIGdvUmVjaGFyZ2UoKTogYW55IHtcbiAgICB3eC5uYXZpZ2F0ZVRvKHtcbiAgICAgIHVybDogYC4uLy4uLy4uL3BhY2thZ2VNeWhvbWUvcGFnZXMvY2hvb3NlUGF5L2Nob29zZVBheT9wcmljZT0ke3RoaXMuZGF0YS5jdXJyZW50UHJpY2V9YCxcbiAgICB9KTtcbiAgfSxcblxuICBzd2lwZXJDaGFuZ2UoZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coZS5kZXRhaWwuY3VycmVudCk7XG4gICAgdGhpcy5zZXREYXRhISh7XG4gICAgICBjdXJyZW50UmlnaHQ6IGUuZGV0YWlsLmN1cnJlbnQsXG4gICAgfSk7XG4gIH0sXG5cbiAgc2VsZWN0UHJpY2UoZTogYW55KSB7XG4gICAgY29uc29sZS5sb2coZS5jdXJyZW50VGFyZ2V0LmRhdGFzZXQpO1xuICAgIGNvbnN0IHsgQkosIEhUIH0gPSB0aGlzLmRhdGE7XG4gICAgbGV0IGN1cnJlbnRQcmljZSA9IDA7XG4gICAgY29uc3QgeyBzZWxlY3RJbmRleCwgY3VycmVudFJpZ2h0IH0gPSBlLmN1cnJlbnRUYXJnZXQuZGF0YXNldDtcbiAgICBjb25zdCBwcmljZUxpc3QgPSBjdXJyZW50UmlnaHQgPT09IDAgPyBIVC5wcmljZUxpc3QgOiBCSi5wcmljZUxpc3Q7XG4gICAgcHJpY2VMaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPT09IHNlbGVjdEluZGV4KSB7XG4gICAgICAgIGl0ZW0uc2VsZWN0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGl0ZW0uc2VsZWN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGN1cnJlbnRSaWdodCA9PT0gMCkge1xuICAgICAgSFQucHJpY2VMaXN0ID0gcHJpY2VMaXN0O1xuICAgICAgY3VycmVudFByaWNlID0gSFQucHJpY2VMaXN0W3NlbGVjdEluZGV4XS52YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudFByaWNlID0gQkoucHJpY2VMaXN0W3NlbGVjdEluZGV4XS52YWx1ZTtcbiAgICAgIEJKLnByaWNlTGlzdCA9IHByaWNlTGlzdDtcbiAgICB9XG4gICAgdGhpcy5zZXREYXRhISh7XG4gICAgICBCSixcbiAgICAgIEhULFxuICAgICAgY3VycmVudFByaWNlLFxuICAgIH0pO1xuXG4gICAgY29uc29sZS5sb2codGhpcy5kYXRhLkhULnByaWNlTGlzdCk7XG4gICAgY29uc29sZS5sb2codGhpcy5kYXRhLkJKLnByaWNlTGlzdCk7XG4gIH0sXG5cbiAgb25SZWFkeTogZnVuY3Rpb24gKCkge30sXG5cbiAgb25TaG93OiBmdW5jdGlvbiAoKSB7fSxcblxuICBvbkhpZGU6IGZ1bmN0aW9uICgpIHt9LFxuXG4gIG9uVW5sb2FkOiBmdW5jdGlvbiAoKSB7fSxcblxuICBvblB1bGxEb3duUmVmcmVzaDogZnVuY3Rpb24gKCkge30sXG5cbiAgb25SZWFjaEJvdHRvbTogZnVuY3Rpb24gKCkge30sXG59KTtcbiJdfQ==