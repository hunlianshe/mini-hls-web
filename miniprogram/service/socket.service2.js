"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const config_1 = require("../config");
let token = wx.getStorageSync('user').token;
const socket = io(config_1.default.socket, {
    path: '',
    query: {
        token,
    }
});
socket.on('connect', function () {
    console.log('connect....');
});
const sendMessage = (msg) => {
    console.log('send message', msg);
    if (msg.msg.trim() !== '') {
        socket.emit('privateChat', msg);
    }
};
exports.sendMessage = sendMessage;
const getSocket = (socket) => {
    return socket;
};
exports.getSocket = getSocket;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29ja2V0LnNlcnZpY2UyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsic29ja2V0LnNlcnZpY2UyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsc0NBQStCO0FBQy9CLElBQUksS0FBSyxHQUFHLEVBQUUsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDO0FBRTVDLE1BQU0sTUFBTSxHQUFHLEVBQUUsQ0FBQyxnQkFBTSxDQUFDLE1BQU0sRUFBRTtJQUM3QixJQUFJLEVBQUMsRUFBRTtJQUNQLEtBQUssRUFBRTtRQUNMLEtBQUs7S0FDTjtDQUNGLENBQUMsQ0FBQTtBQUVKLE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFO0lBQ2pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUE7QUFDNUIsQ0FBQyxDQUFDLENBQUM7QUFHTCxNQUFNLFdBQVcsR0FBRyxDQUFDLEdBSXBCLEVBQUUsRUFBRTtJQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2hDLElBQUksR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUU7UUFDekIsTUFBTSxDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUUsR0FBRyxDQUFDLENBQUM7S0FDakM7QUFDTCxDQUFDLENBQUM7QUFPRSxrQ0FBVztBQUxmLE1BQU0sU0FBUyxHQUFHLENBQUMsTUFBVSxFQUFFLEVBQUU7SUFDN0IsT0FBTyxNQUFNLENBQUE7QUFDakIsQ0FBQyxDQUFDO0FBSUUsOEJBQVMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb25zdCBpbyA9IHJlcXVpcmUoJy4uLy4uL3R5cGluZ3Mvd2VhcHAuc29ja2V0LmlvLmpzJylcbi8vIGltcG9ydCBpbyBmcm9tICcnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnO1xubGV0IHRva2VuID0gd3guZ2V0U3RvcmFnZVN5bmMoJ3VzZXInKS50b2tlbjtcblxuY29uc3Qgc29ja2V0ID0gaW8oY29uZmlnLnNvY2tldCwge1xuICAgIHBhdGg6JycsXG4gICAgcXVlcnk6IHtcbiAgICAgIHRva2VuLFxuICAgIH1cbiAgfSlcblxuc29ja2V0Lm9uKCdjb25uZWN0JywgZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coJ2Nvbm5lY3QuLi4uJylcbiAgfSk7XG4gIFxuXG5jb25zdCBzZW5kTWVzc2FnZSA9IChtc2c6IHtcbiAgICBjaWQ6IHN0cmluZ1xuICAgIHR5cGU6IG51bWJlclxuICAgIG1zZzogc3RyaW5nXG59KSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3NlbmQgbWVzc2FnZScsbXNnKTtcbiAgICBpZiAobXNnLm1zZy50cmltKCkgIT09ICcnKSB7XG4gICAgICBzb2NrZXQuZW1pdCgncHJpdmF0ZUNoYXQnLCBtc2cpO1xuICAgIH1cbn07XG5cbmNvbnN0IGdldFNvY2tldCA9IChzb2NrZXQ6YW55KSA9PiB7XG4gICAgcmV0dXJuIHNvY2tldFxufTtcblxuZXhwb3J0IHtcbiAgICBzZW5kTWVzc2FnZSxcbiAgICBnZXRTb2NrZXRcbn0iXX0=