"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
let timer = null;
let count = 0;
function show() {
    count++;
    if (timer) {
        return;
    }
    timer = setTimeout(() => {
        wx.showLoading({
            title: '',
            mask: true
        });
    }, 400);
}
function hide() {
    count--;
    if (timer && count == 0) {
        clearTimeout(timer);
        timer = null;
        wx.hideLoading();
    }
}
function error(content) {
    if (content == null || content == undefined) {
        content = '';
    }
    else if (content !== null && typeof content === 'object') {
        try {
            content = JSON.stringify(content);
        }
        catch (e) {
            console.log(e);
            content = typeof (content);
        }
    }
    content = content + '';
    content = content.substring(0, 499);
    wx.showModal({
        title: '提示',
        content,
        showCancel: false,
        success: () => { }
    });
}
exports.default = {
    show,
    hide,
    error,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGluZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvYWRpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBUSxJQUFJLENBQUE7QUFDckIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFBO0FBRWIsU0FBUyxJQUFJO0lBQ1gsS0FBSyxFQUFFLENBQUE7SUFDUCxJQUFJLEtBQUssRUFBRTtRQUNULE9BQU07S0FDUDtJQUVELEtBQUssR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ3RCLEVBQUUsQ0FBQyxXQUFXLENBQUM7WUFDYixLQUFLLEVBQUUsRUFBRTtZQUNULElBQUksRUFBRSxJQUFJO1NBQ1gsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQ1QsQ0FBQztBQUVELFNBQVMsSUFBSTtJQUNYLEtBQUssRUFBRSxDQUFBO0lBQ1AsSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtRQUN2QixZQUFZLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDbkIsS0FBSyxHQUFHLElBQUksQ0FBQTtRQUNaLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtLQUNqQjtBQUVILENBQUM7QUFFRCxTQUFTLEtBQUssQ0FBQyxPQUFZO0lBQ3pCLElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxPQUFPLElBQUksU0FBUyxFQUFFO1FBQzNDLE9BQU8sR0FBRyxFQUFFLENBQUE7S0FDYjtTQUFNLElBQUksT0FBTyxLQUFLLElBQUksSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUU7UUFDMUQsSUFBSTtZQUNGLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQ2xDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ2QsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtTQUMzQjtLQUNGO0lBRUQsT0FBTyxHQUFHLE9BQU8sR0FBRyxFQUFFLENBQUE7SUFHdEIsT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0lBQ25DLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDWCxLQUFLLEVBQUUsSUFBSTtRQUNYLE9BQU87UUFDUCxVQUFVLEVBQUUsS0FBSztRQUNqQixPQUFPLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztLQUNuQixDQUFDLENBQUE7QUFDSixDQUFDO0FBRUQsa0JBQWU7SUFDYixJQUFJO0lBQ0osSUFBSTtJQUNKLEtBQUs7Q0FDTixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHRpbWVyOiBhbnkgPSBudWxsXG5sZXQgY291bnQgPSAwXG5cbmZ1bmN0aW9uIHNob3coKSB7XG4gIGNvdW50KytcbiAgaWYgKHRpbWVyKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgLy8g5a+55LqO5b6I5b+r5a6M5oiQ55qE6K+35rGC5bCx5LiN5pi+56S6bG9hZGluZ+S6hlxuICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIHd4LnNob3dMb2FkaW5nKHtcbiAgICAgIHRpdGxlOiAnJyxcbiAgICAgIG1hc2s6IHRydWVcbiAgICB9KVxuICB9LCA0MDApXG59XG5cbmZ1bmN0aW9uIGhpZGUoKSB7XG4gIGNvdW50LS1cbiAgaWYgKHRpbWVyICYmIGNvdW50ID09IDApIHtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpXG4gICAgdGltZXIgPSBudWxsXG4gICAgd3guaGlkZUxvYWRpbmcoKVxuICB9XG5cbn1cblxuZnVuY3Rpb24gZXJyb3IoY29udGVudDogYW55KSB7XG4gIGlmIChjb250ZW50ID09IG51bGwgfHwgY29udGVudCA9PSB1bmRlZmluZWQpIHtcbiAgICBjb250ZW50ID0gJydcbiAgfSBlbHNlIGlmIChjb250ZW50ICE9PSBudWxsICYmIHR5cGVvZiBjb250ZW50ID09PSAnb2JqZWN0Jykge1xuICAgIHRyeSB7XG4gICAgICBjb250ZW50ID0gSlNPTi5zdHJpbmdpZnkoY29udGVudClcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgY29udGVudCA9IHR5cGVvZiAoY29udGVudClcbiAgICB9XG4gIH1cblxuICBjb250ZW50ID0gY29udGVudCArICcnXG5cbiAgLy8g5aSq6ZW/55qE6K+d77yM5pi+56S65qGG5Lya6LaF5Ye65bGP5bmV77yM5oiq5o6J5aSa5L2Z55qEXG4gIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCA0OTkpXG4gIHd4LnNob3dNb2RhbCh7XG4gICAgdGl0bGU6ICfmj5DnpLonLFxuICAgIGNvbnRlbnQsXG4gICAgc2hvd0NhbmNlbDogZmFsc2UsXG4gICAgc3VjY2VzczogKCkgPT4geyB9XG4gIH0pXG59XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgc2hvdyxcbiAgaGlkZSxcbiAgZXJyb3IsXG59Il19