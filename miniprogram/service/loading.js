"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
let timer = null;
let count = 0;
function show() {
    count++;
    if (timer) {
        return;
    }
    timer = setTimeout(() => {
        wx.showLoading({
            title: '',
            mask: true
        });
    }, 400);
}
function hide() {
    count--;
    if (timer && count == 0) {
        clearTimeout(timer);
        timer = null;
        wx.hideLoading();
    }
}
function error(content) {
    if (content == null || content == undefined) {
        content = '';
    }
    else if (content !== null && typeof content === 'object') {
        try {
            content = JSON.stringify(content);
        }
        catch (e) {
            console.log(e);
            content = typeof (content);
        }
    }
    content = content + '';
    content = content.substring(0, 499);
    wx.showModal({
        title: '提示',
        content,
        showCancel: false,
        success: () => { }
    });
}
exports.default = {
    show,
    hide,
    error,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGluZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvYWRpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBUSxJQUFJLENBQUE7QUFDckIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFBO0FBRWIsU0FBUyxJQUFJO0lBQ1gsS0FBSyxFQUFFLENBQUE7SUFDUCxJQUFJLEtBQUssRUFBRTtRQUNULE9BQU07S0FDUDtJQUVELEtBQUssR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ3RCLEVBQUUsQ0FBQyxXQUFXLENBQUM7WUFDYixLQUFLLEVBQUUsRUFBRTtZQUNULElBQUksRUFBRSxJQUFJO1NBQ1gsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQ1QsQ0FBQztBQUVELFNBQVMsSUFBSTtJQUNYLEtBQUssRUFBRSxDQUFBO0lBQ1AsSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtRQUN2QixZQUFZLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDbkIsS0FBSyxHQUFHLElBQUksQ0FBQTtRQUNaLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtLQUNqQjtBQUVILENBQUM7QUFFRCxTQUFTLEtBQUssQ0FBQyxPQUFZO0lBQ3pCLElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxPQUFPLElBQUksU0FBUyxFQUFFO1FBQzNDLE9BQU8sR0FBRyxFQUFFLENBQUE7S0FDYjtTQUFNLElBQUksT0FBTyxLQUFLLElBQUksSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUU7UUFDMUQsSUFBSTtZQUNGLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQ2xDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ2QsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtTQUMzQjtLQUNGO0lBRUQsT0FBTyxHQUFHLE9BQU8sR0FBRyxFQUFFLENBQUE7SUFHdEIsT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0lBQ25DLEVBQUUsQ0FBQyxTQUFTLENBQUM7UUFDWCxLQUFLLEVBQUUsSUFBSTtRQUNYLE9BQU87UUFDUCxVQUFVLEVBQUUsS0FBSztRQUNqQixPQUFPLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQztLQUNuQixDQUFDLENBQUE7QUFDSixDQUFDO0FBRUQsa0JBQWU7SUFDYixJQUFJO0lBQ0osSUFBSTtJQUNKLEtBQUs7Q0FDTixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHRpbWVyOiBhbnkgPSBudWxsXHJcbmxldCBjb3VudCA9IDBcclxuXHJcbmZ1bmN0aW9uIHNob3coKSB7XHJcbiAgY291bnQrK1xyXG4gIGlmICh0aW1lcikge1xyXG4gICAgcmV0dXJuXHJcbiAgfVxyXG4gIC8vIOWvueS6juW+iOW/q+WujOaIkOeahOivt+axguWwseS4jeaYvuekumxvYWRpbmfkuoZcclxuICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgd3guc2hvd0xvYWRpbmcoe1xyXG4gICAgICB0aXRsZTogJycsXHJcbiAgICAgIG1hc2s6IHRydWVcclxuICAgIH0pXHJcbiAgfSwgNDAwKVxyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlKCkge1xyXG4gIGNvdW50LS1cclxuICBpZiAodGltZXIgJiYgY291bnQgPT0gMCkge1xyXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKVxyXG4gICAgdGltZXIgPSBudWxsXHJcbiAgICB3eC5oaWRlTG9hZGluZygpXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gZXJyb3IoY29udGVudDogYW55KSB7XHJcbiAgaWYgKGNvbnRlbnQgPT0gbnVsbCB8fCBjb250ZW50ID09IHVuZGVmaW5lZCkge1xyXG4gICAgY29udGVudCA9ICcnXHJcbiAgfSBlbHNlIGlmIChjb250ZW50ICE9PSBudWxsICYmIHR5cGVvZiBjb250ZW50ID09PSAnb2JqZWN0Jykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29udGVudCA9IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGUpXHJcbiAgICAgIGNvbnRlbnQgPSB0eXBlb2YgKGNvbnRlbnQpXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb250ZW50ID0gY29udGVudCArICcnXHJcblxyXG4gIC8vIOWkqumVv+eahOivne+8jOaYvuekuuahhuS8mui2heWHuuWxj+W5le+8jOaIquaOieWkmuS9meeahFxyXG4gIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCA0OTkpXHJcbiAgd3guc2hvd01vZGFsKHtcclxuICAgIHRpdGxlOiAn5o+Q56S6JyxcclxuICAgIGNvbnRlbnQsXHJcbiAgICBzaG93Q2FuY2VsOiBmYWxzZSxcclxuICAgIHN1Y2Nlc3M6ICgpID0+IHsgfVxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICBzaG93LFxyXG4gIGhpZGUsXHJcbiAgZXJyb3IsXHJcbn0iXX0=