"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
let timer = null;
let count = 0;
function show() {
    count++;
    if (timer) {
        return;
    }
    timer = setTimeout(() => {
        wx.showLoading({
            title: '',
            mask: true
        });
    }, 400);
}
function hide() {
    count--;
    if (timer && count == 0) {
        clearTimeout(timer);
        timer = null;
        wx.hideLoading();
    }
}
function error(content) {
    if (content == null || content == undefined) {
        content = '';
    }
    else if (content !== null && typeof content === 'object') {
        try {
            content = JSON.stringify(content);
        }
        catch (e) {
            content = typeof (content);
        }
    }
    content = content + '';
    content = content.substring(0, 499);
    wx.showModal({
        title: '提示',
        content,
        showCancel: false,
        success: () => { }
    });
}
exports.default = {
    show,
    hide,
    error,
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZGluZy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImxvYWRpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJLEtBQUssR0FBUSxJQUFJLENBQUE7QUFDckIsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFBO0FBRWIsU0FBUyxJQUFJO0lBQ1gsS0FBSyxFQUFFLENBQUE7SUFDUCxJQUFJLEtBQUssRUFBRTtRQUNULE9BQU07S0FDUDtJQUVELEtBQUssR0FBRyxVQUFVLENBQUMsR0FBRyxFQUFFO1FBQ3RCLEVBQUUsQ0FBQyxXQUFXLENBQUM7WUFDYixLQUFLLEVBQUUsRUFBRTtZQUNULElBQUksRUFBRSxJQUFJO1NBQ1gsQ0FBQyxDQUFBO0lBQ0osQ0FBQyxFQUFFLEdBQUcsQ0FBQyxDQUFBO0FBQ1QsQ0FBQztBQUVELFNBQVMsSUFBSTtJQUNYLEtBQUssRUFBRSxDQUFBO0lBQ1AsSUFBSSxLQUFLLElBQUksS0FBSyxJQUFJLENBQUMsRUFBRTtRQUN2QixZQUFZLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDbkIsS0FBSyxHQUFHLElBQUksQ0FBQTtRQUNaLEVBQUUsQ0FBQyxXQUFXLEVBQUUsQ0FBQTtLQUNqQjtBQUVILENBQUM7QUFFRCxTQUFTLEtBQUssQ0FBQyxPQUFZO0lBQ3pCLElBQUksT0FBTyxJQUFJLElBQUksSUFBSSxPQUFPLElBQUksU0FBUyxFQUFFO1FBQzNDLE9BQU8sR0FBRyxFQUFFLENBQUE7S0FDYjtTQUFNLElBQUksT0FBTyxLQUFLLElBQUksSUFBSSxPQUFPLE9BQU8sS0FBSyxRQUFRLEVBQUU7UUFDMUQsSUFBSTtZQUNGLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQ2xDO1FBQUMsT0FBTyxDQUFDLEVBQUU7WUFDVixPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQzNCO0tBQ0Y7SUFFRCxPQUFPLEdBQUcsT0FBTyxHQUFHLEVBQUUsQ0FBQTtJQUd0QixPQUFPLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUE7SUFDbkMsRUFBRSxDQUFDLFNBQVMsQ0FBQztRQUNYLEtBQUssRUFBRSxJQUFJO1FBQ1gsT0FBTztRQUNQLFVBQVUsRUFBRSxLQUFLO1FBQ2pCLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxDQUFDO0tBQ25CLENBQUMsQ0FBQTtBQUNKLENBQUM7QUFFRCxrQkFBZTtJQUNiLElBQUk7SUFDSixJQUFJO0lBQ0osS0FBSztDQUNOLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgdGltZXI6IGFueSA9IG51bGxcbmxldCBjb3VudCA9IDBcblxuZnVuY3Rpb24gc2hvdygpIHtcbiAgY291bnQrK1xuICBpZiAodGltZXIpIHtcbiAgICByZXR1cm5cbiAgfVxuICAvLyDlr7nkuo7lvojlv6vlrozmiJDnmoTor7fmsYLlsLHkuI3mmL7npLpsb2FkaW5n5LqGXG4gIHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgd3guc2hvd0xvYWRpbmcoe1xuICAgICAgdGl0bGU6ICcnLFxuICAgICAgbWFzazogdHJ1ZVxuICAgIH0pXG4gIH0sIDQwMClcbn1cblxuZnVuY3Rpb24gaGlkZSgpIHtcbiAgY291bnQtLVxuICBpZiAodGltZXIgJiYgY291bnQgPT0gMCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lcilcbiAgICB0aW1lciA9IG51bGxcbiAgICB3eC5oaWRlTG9hZGluZygpXG4gIH1cblxufVxuXG5mdW5jdGlvbiBlcnJvcihjb250ZW50OiBhbnkpIHtcbiAgaWYgKGNvbnRlbnQgPT0gbnVsbCB8fCBjb250ZW50ID09IHVuZGVmaW5lZCkge1xuICAgIGNvbnRlbnQgPSAnJ1xuICB9IGVsc2UgaWYgKGNvbnRlbnQgIT09IG51bGwgJiYgdHlwZW9mIGNvbnRlbnQgPT09ICdvYmplY3QnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShjb250ZW50KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnRlbnQgPSB0eXBlb2YgKGNvbnRlbnQpXG4gICAgfVxuICB9XG5cbiAgY29udGVudCA9IGNvbnRlbnQgKyAnJ1xuXG4gIC8vIOWkqumVv+eahOivne+8jOaYvuekuuahhuS8mui2heWHuuWxj+W5le+8jOaIquaOieWkmuS9meeahFxuICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgNDk5KVxuICB3eC5zaG93TW9kYWwoe1xuICAgIHRpdGxlOiAn5o+Q56S6JyxcbiAgICBjb250ZW50LFxuICAgIHNob3dDYW5jZWw6IGZhbHNlLFxuICAgIHN1Y2Nlc3M6ICgpID0+IHsgfVxuICB9KVxufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHNob3csXG4gIGhpZGUsXG4gIGVycm9yLFxufSJdfQ==